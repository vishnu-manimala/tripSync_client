{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AddVehicleComponent = class AddVehicleComponent {\n  constructor(_form, _vehicleService, _jwt, _router) {\n    this._form = _form;\n    this._vehicleService = _vehicleService;\n    this._jwt = _jwt;\n    this._router = _router;\n    this.error = false;\n    this.vehicleData = this._form.group({\n      type: this._form.control(\"\", Validators.required),\n      brand: this._form.control(\"\", Validators.required),\n      model: this._form.control(\"\", Validators.required),\n      year: this._form.control(\"\", Validators.required),\n      color: this._form.control(\"\", Validators.required)\n    });\n  }\n  onTypeValue() {\n    console.log(this.vehicleData.value.type);\n    this._vehicleService.getCarBrands(this.vehicleData.value.type).subscribe(result => {\n      this.brands = result;\n      console.log(\"types\", this.brands.Results);\n      this.brands.Results.forEach(element => {\n        console.log(\"carss\", element.MakeName);\n      });\n    });\n  }\n  submitVehicleData() {\n    console.log(this.vehicleData.value);\n    if (this.vehicleData.valid) {\n      this._vehicleService.saveVehicleData(this.vehicleData.value).subscribe(result => {\n        this.returnData = result;\n        console.log(this.returnData);\n        if (this.returnData.status == \"Success\") {\n          this._jwt.setToken(this.returnData.token);\n          console.log(\"in succes\");\n          this._router.navigate(['add.vehicle.registartion']);\n        } else {\n          this.error = true;\n          this.errorMessage = this.returnData.message;\n        }\n      });\n    } else {\n      this.error = true;\n      this.errorMessage = \"Form is not valid!\";\n    }\n  }\n};\nAddVehicleComponent = __decorate([Component({\n  selector: 'app-add-vehicle',\n  templateUrl: './add-vehicle.component.html',\n  styleUrls: ['./add-vehicle.component.css']\n})], AddVehicleComponent);","map":{"version":3,"names":["Component","Validators","AddVehicleComponent","constructor","_form","_vehicleService","_jwt","_router","error","vehicleData","group","type","control","required","brand","model","year","color","onTypeValue","console","log","value","getCarBrands","subscribe","result","brands","Results","forEach","element","MakeName","submitVehicleData","valid","saveVehicleData","returnData","status","setToken","token","navigate","errorMessage","message","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-vehicle\\add-vehicle.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { JwtService } from 'src/app/services/jwt.service';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-vehicle',\n  templateUrl: './add-vehicle.component.html',\n  styleUrls: ['./add-vehicle.component.css']\n})\nexport class AddVehicleComponent {\n  vehicleData:FormGroup;\n  brands:any;\n  returnData:any;\n  error:boolean=false;\n  constructor(private _form:FormBuilder, private _vehicleService:VehicleService, private _jwt:JwtService, private _router:Router){\n    \n    this.vehicleData = this._form.group({\n      type: this._form.control(\"\", Validators.required),\n      brand: this._form.control(\"\", Validators.required),\n      model: this._form.control(\"\", Validators.required),\n      year: this._form.control(\"\", Validators.required),\n      color: this._form.control(\"\", Validators.required)\n    })\n  }\n  onTypeValue(){\n    console.log(this.vehicleData.value.type);\n    this._vehicleService.getCarBrands(this.vehicleData.value.type).subscribe(result=>{\n      this.brands = result\n      console.log(\"types\",this.brands.Results);\n      this.brands.Results.forEach((element:any) => {\n        console.log(\"carss\",element.MakeName)\n      });\n    })\n  }\n\n  submitVehicleData(){\n    console.log(this.vehicleData.value);\n  if (this.vehicleData.valid) {\n    this._vehicleService.saveVehicleData(this.vehicleData.value).subscribe(result => {\n      this.returnData = result;\n      console.log(this.returnData);\n      if (this.returnData.status == \"Success\") {\n        this._jwt.setToken(this.returnData.token);console.log(\"in succes\")\n        this._router.navigate(['add.vehicle.registartion'])\n      } else {\n        this.error = true;\n        this.errorMessage = this.returnData.message;\n      }\n    })\n  }else{\n    this.error = true;\n    this.errorMessage = \"Form is not valid!\";\n  }\n}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}