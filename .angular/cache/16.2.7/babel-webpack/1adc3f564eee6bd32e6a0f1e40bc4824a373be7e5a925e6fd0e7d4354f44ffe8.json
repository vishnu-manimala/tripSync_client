{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/vehicle.service\";\nimport * as i3 from \"@angular/forms\";\nexport class AddImagesComponent {\n  constructor(_router, _vehicleService) {\n    this._router = _router;\n    this._vehicleService = _vehicleService;\n    this.error = false;\n    this.errorMessage = \"\";\n    this.selectedFiles = [];\n  }\n  onFileSelected(event) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe(result => {\n      console.log(result);\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehvehicle.list']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    });\n  }\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function AddImagesComponent_Factory(t) {\n    return new (t || AddImagesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.VehicleService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddImagesComponent,\n    selectors: [[\"app-add-images\"]],\n    decls: 11,\n    vars: 0,\n    consts: [[1, \"flex\", \"flex-col\", \"justify-center\", \"md:justify-start\", \"my-auto\", \"mt-3\", \"md:pt-0\", \"px-8\", \"md:px-24\", \"lg:px-32\", \"w-11/12\", \"sm:w-full\", \"md:w-2/3\", \"text-cyan-300\"], [1, \"text-center\", \"text-3xl\"], [\"enctype\", \"multipart/form-data\", 1, \"flex\", \"flex-col\", \"md:pt-8\", 3, \"ngSubmit\"], [1, \"flex\", \"flex-col\", \"pt-1\"], [1, \"pb-2\"], [\"type\", \"file\", \"id\", \"color\", \"id\", \"inputGroupFile02\", \"accept\", \"image/*\", \"name\", \"files\", \"multiple\", \"\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\", 3, \"change\"], [\"type\", \"submit\", \"value\", \"Submit\", 1, \"bg-cyan-300\", \"w-1/4\", \"text-gray-800\", \"font-bold\", \"text-lg\", \"hover:bg-gray-700\", \"p-2\", \"mt-2\", \"rounded\"], [1, \"text-center\", \"text-red-950\"]],\n    template: function AddImagesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\", 1);\n        i0.ɵɵtext(2, \"Vehicle Details.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function AddImagesComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 3)(5, \"span\", 4);\n        i0.ɵɵtext(6, \"You can choose multiple data\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"input\", 5);\n        i0.ɵɵlistener(\"change\", function AddImagesComponent_Template_input_change_7_listener($event) {\n          return ctx.onFileSelected($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"input\", 6);\n        i0.ɵɵelementStart(9, \"span\", 7);\n        i0.ɵɵtext(10, \"Something went wrong!!\");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AddImagesComponent","constructor","_router","_vehicleService","error","errorMessage","selectedFiles","onFileSelected","event","target","files","onSubmit","formData","FormData","i","length","append","_imageSubscription","saveVehiclePhoto","subscribe","result","console","log","imageResult","status","navigate","ngOnDestroy","unsubscribe","_","i0","ɵɵdirectiveInject","i1","Router","i2","VehicleService","_2","selectors","decls","vars","consts","template","AddImagesComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AddImagesComponent_Template_form_ngSubmit_3_listener","AddImagesComponent_Template_input_change_7_listener","$event","ɵɵelement"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-images\\add-images.component.ts","C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-images\\add-images.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-images',\n  templateUrl: './add-images.component.html',\n  styleUrls: ['./add-images.component.css']\n})\nexport class AddImagesComponent {\n\n  error: boolean = false;\n  errorMessage: string = \"\";\n  imageResult: any;\n  selectedFiles: File[] = [];\n  private _imageSubscription!: Subscription;\n\n  constructor(private _router: Router, private _vehicleService: VehicleService) {}\n\n  onFileSelected(event: any) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe((result: any) => {\n      console.log(result)\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehvehicle.list']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    })\n  }\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n}\n","\n\n<div\n  class=\"flex flex-col justify-center md:justify-start my-auto mt-3 md:pt-0 px-8 md:px-24 lg:px-32 w-11/12 sm:w-full md:w-2/3 text-cyan-300\">\n  <p class=\"text-center text-3xl\">Vehicle Details.</p>\n\n  <form class=\"flex flex-col  md:pt-8\" (ngSubmit)=\"onSubmit()\" enctype=\"multipart/form-data\">\n    <div class=\"flex flex-col pt-1\">\n      <span class=\"pb-2\">You can choose multiple data</span>\n      <input type=\"file\" id=\"color\" id=\"inputGroupFile02\"  accept=\"image/*\" name=\"files\" (change)=\"onFileSelected($event)\" multiple\n        class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n    </div>\n    <input type=\"submit\" value=\"Submit\"\n      class=\"bg-cyan-300 w-1/4 text-gray-800 font-bold text-lg hover:bg-gray-700 p-2 mt-2 rounded\" />\n    <span class=\"text-center text-red-950\">Something went wrong!!</span>\n  </form>\n"],"mappings":";;;;AAUA,OAAM,MAAOA,kBAAkB;EAQ7BC,YAAoBC,OAAe,EAAUC,eAA+B;IAAxD,KAAAD,OAAO,GAAPA,OAAO;IAAkB,KAAAC,eAAe,GAAfA,eAAe;IAN5D,KAAAC,KAAK,GAAY,KAAK;IACtB,KAAAC,YAAY,GAAW,EAAE;IAEzB,KAAAC,aAAa,GAAW,EAAE;EAGqD;EAE/EC,cAAcA,CAACC,KAAU;IACvB,IAAI,CAACF,aAAa,GAAGE,KAAK,CAACC,MAAM,CAACC,KAAK;EACzC;EACAC,QAAQA,CAAA;IACN,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACR,aAAa,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MAClDF,QAAQ,CAACI,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,aAAa,CAACQ,CAAC,CAAC,CAAC;;IAEjD,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACd,eAAe,CAACe,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAEC,MAAW,IAAI;MAClGC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAI,CAACG,WAAW,GAAGH,MAAM;MACzB,IAAI,IAAI,CAACG,WAAW,CAACC,MAAM,IAAI,SAAS,EAAE;QACxC,IAAI,CAACtB,OAAO,CAACuB,QAAQ,CAAC,CAAC,sBAAsB,CAAC,CAAC;OAChD,MAAM;QACL,IAAI,CAACrB,KAAK,GAAG,IAAI;QACjB,IAAI,CAACC,YAAY,GAAG,sBAAsB;;IAE9C,CAAC,CAAC;EACJ;EACAqB,WAAWA,CAAA;IACT;IACA;IACA,IAAI,IAAI,CAACT,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACU,WAAW,EAAE;;EAEzC;EAAC,QAAAC,CAAA,G;qBAnCU5B,kBAAkB,EAAA6B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlBnC,kBAAkB;IAAAoC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCR/Bb,EAAA,CAAAe,cAAA,aAC6I;QAC3Gf,EAAA,CAAAgB,MAAA,uBAAgB;QAAAhB,EAAA,CAAAiB,YAAA,EAAI;QAEpDjB,EAAA,CAAAe,cAAA,cAA2F;QAAtDf,EAAA,CAAAkB,UAAA,sBAAAC,qDAAA;UAAA,OAAYL,GAAA,CAAAhC,QAAA,EAAU;QAAA,EAAC;QAC1DkB,EAAA,CAAAe,cAAA,aAAgC;QACXf,EAAA,CAAAgB,MAAA,mCAA4B;QAAAhB,EAAA,CAAAiB,YAAA,EAAO;QACtDjB,EAAA,CAAAe,cAAA,eAC0I;QADvDf,EAAA,CAAAkB,UAAA,oBAAAE,oDAAAC,MAAA;UAAA,OAAUP,GAAA,CAAApC,cAAA,CAAA2C,MAAA,CAAsB;QAAA,EAAC;QAApHrB,EAAA,CAAAiB,YAAA,EAC0I;QAE5IjB,EAAA,CAAAsB,SAAA,eACiG;QACjGtB,EAAA,CAAAe,cAAA,cAAuC;QAAAf,EAAA,CAAAgB,MAAA,8BAAsB;QAAAhB,EAAA,CAAAiB,YAAA,EAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}