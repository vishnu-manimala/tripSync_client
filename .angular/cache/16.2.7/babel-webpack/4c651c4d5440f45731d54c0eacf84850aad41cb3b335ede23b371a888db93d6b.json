{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/vehicle.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction AddRegistrationComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtext(1, \"*Registration number is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddRegistrationComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtext(1, \"*Expiry Date is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddRegistrationComponent {\n  constructor(_form, _vehicleService, _router) {\n    this._form = _form;\n    this._vehicleService = _vehicleService;\n    this._router = _router;\n    this.errorMessage = \"\";\n    this.error = false;\n    this.registrationData = this._form.group({\n      registrationNumber: this._form.control(\"\", Validators.required),\n      expiryDate: this._form.control(\"\", Validators.required)\n    });\n  }\n  submitRegistrationData() {\n    console.log(this.registrationData.value);\n    if (this.registrationData.valid) {\n      this._vehicleService.saveRegistrationData(this.registrationData.value).subscribe(result => {\n        console.log(result);\n        this.responseData = result;\n        if (this.responseData.status == \"Success\") {\n          this._router.navigate(['user/vehicles/add.insurance']);\n        } else {\n          this.errorMessage = this.responseData.message;\n          this.error = true;\n        }\n      });\n    } else {\n      this.errorMessage = \"Data is not valid\";\n      this.error = true;\n    }\n  }\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this.registrationSubscription) {\n      this.registrationSubscription.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function AddRegistrationComponent_Factory(t) {\n    return new (t || AddRegistrationComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.VehicleService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddRegistrationComponent,\n    selectors: [[\"app-add-registration\"]],\n    decls: 13,\n    vars: 3,\n    consts: [[1, \"flex\", \"flex-col\", \"justify-center\", \"md:justify-start\", \"my-auto\", \"mt-3\", \"md:pt-0\", \"px-8\", \"md:px-24\", \"lg:px-32\", \"w-11/12\", \"sm:w-full\", \"md:w-2/3\", \"text-cyan-300\"], [1, \"text-center\", \"text-3xl\"], [1, \"flex\", \"flex-col\", \"md:pt-8\", 3, \"formGroup\", \"submit\"], [1, \"flex\", \"flex-col\", \"pt-1\"], [\"id\", \"color\", \"formControlName\", \"registrationNumber\", \"placeholder\", \"Registration number\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [\"class\", \"text-danger text-center ps-2 pt-2 col-12\", 4, \"ngIf\"], [\"id\", \"color\", \"formControlName\", \"expiryDate\", \"placeholder\", \"Expiry Date\", \"type\", \"date\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [\"type\", \"submit\", \"value\", \"Submit\", 1, \"bg-cyan-300\", \"w-1/4\", \"text-gray-800\", \"font-bold\", \"text-lg\", \"hover:bg-gray-700\", \"p-2\", \"mt-2\", \"rounded\"], [1, \"text-center\", \"text-red-950\"], [1, \"text-danger\", \"text-center\", \"ps-2\", \"pt-2\", \"col-12\"]],\n    template: function AddRegistrationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\", 1);\n        i0.ɵɵtext(2, \"Vehicle Details.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function AddRegistrationComponent_Template_form_submit_3_listener() {\n          return ctx.submitRegistrationData();\n        });\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"input\", 4);\n        i0.ɵɵtemplate(6, AddRegistrationComponent_span_6_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelement(8, \"input\", 6);\n        i0.ɵɵtemplate(9, AddRegistrationComponent_span_9_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 7);\n        i0.ɵɵelementStart(11, \"span\", 8);\n        i0.ɵɵtext(12, \"Something went wrong!!\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.registrationData);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.registrationData.hasError(\"required\", \"registrationNumber\") && ctx.registrationData.controls[\"registrationNumber\"].dirty);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.registrationData.hasError(\"required\", \"expiryDate\") && ctx.registrationData.controls[\"expiryDate\"].dirty);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AddRegistrationComponent","constructor","_form","_vehicleService","_router","errorMessage","error","registrationData","group","registrationNumber","control","required","expiryDate","submitRegistrationData","console","log","value","valid","saveRegistrationData","subscribe","result","responseData","status","navigate","message","ngOnDestroy","registrationSubscription","unsubscribe","_","ɵɵdirectiveInject","i1","FormBuilder","i2","VehicleService","i3","Router","_2","selectors","decls","vars","consts","template","AddRegistrationComponent_Template","rf","ctx","ɵɵlistener","AddRegistrationComponent_Template_form_submit_3_listener","ɵɵelement","ɵɵtemplate","AddRegistrationComponent_span_6_Template","AddRegistrationComponent_span_9_Template","ɵɵadvance","ɵɵproperty","hasError","controls","dirty"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-registration\\add-registration.component.ts","C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-registration\\add-registration.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Vehicleresponse } from 'src/app/models/vehicle_response.model';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-registration',\n  templateUrl: './add-registration.component.html',\n  styleUrls: ['./add-registration.component.css']\n})\n\nexport class AddRegistrationComponent {\n  registrationData:FormGroup;\n  errorMessage:string = \"\";\n  error:boolean=false;\n  responseData!:Vehicleresponse;\n  registrationSubscription\n  constructor(private _form:FormBuilder, private _vehicleService:VehicleService, private _router:Router){\n    this.registrationData = this._form.group({\n      registrationNumber:this._form.control(\"\",Validators.required),\n      expiryDate:this._form.control(\"\",Validators.required)\n    })\n  }\n\n  submitRegistrationData(){\n    console.log(this.registrationData.value)\n    if(this.registrationData.valid){\n      this._vehicleService.saveRegistrationData(this.registrationData.value).subscribe((result:Vehicleresponse)=>{\n        console.log(result);\n        this.responseData = result;\n        if(this.responseData.status == \"Success\"){\n          this._router.navigate(['user/vehicles/add.insurance']);\n        }else{\n          this.errorMessage = this.responseData.message ;\n          this.error=true;\n        }\n      })\n    }else{\n      this.errorMessage = \"Data is not valid\";\n      this.error=true;\n    }\n  }\n\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if(this.registrationSubscription){\n      this.registrationSubscription.unsubscribe();\n    }\n  }\n\n}\n","<div\n  class=\"flex flex-col justify-center md:justify-start my-auto mt-3 md:pt-0 px-8 md:px-24 lg:px-32 w-11/12 sm:w-full md:w-2/3 text-cyan-300\">\n  <p class=\"text-center text-3xl\">Vehicle Details.</p>\n\n  <form class=\"flex flex-col  md:pt-8\" [formGroup]=\"registrationData\" (submit)=\"submitRegistrationData()\">\n    <div class=\"flex flex-col pt-1\">\n     \n      <input id=\"color\" formControlName=\"registrationNumber\" placeholder=\"Registration number\"\n        class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n      <span *ngIf=\"registrationData.hasError('required','registrationNumber')&& registrationData.controls['registrationNumber'].dirty\"\n        class=\"text-danger text-center ps-2 pt-2 col-12\">*Registration number is required</span>\n    </div>\n    <div class=\"flex flex-col pt-1\">\n     \n      <input id=\"color\" formControlName=\"expiryDate\" placeholder=\"Expiry Date\" type=\"date\"\n        class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n      <span *ngIf=\"registrationData.hasError('required','expiryDate')&& registrationData.controls['expiryDate'].dirty\"\n        class=\"text-danger text-center ps-2 pt-2 col-12\">*Expiry Date is required</span>\n    </div>\n    \n    <input type=\"submit\" value=\"Submit\"\n      class=\"bg-cyan-300 w-1/4 text-gray-800 font-bold text-lg hover:bg-gray-700 p-2 mt-2 rounded\" />\n    <span class=\"text-center text-red-950\">Something went wrong!!</span>\n  </form>\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}