{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/services/vehicle.service\";\nimport * as i3 from \"@angular/forms\";\nexport class AddImagesComponent {\n  constructor(_router, _vehicleService) {\n    this._router = _router;\n    this._vehicleService = _vehicleService;\n    this.error = false;\n    this.errorMessage = \"\";\n    this.selectedFiles = [];\n  }\n  onFileSelected(event) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe(result => {\n      console.log(result);\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehicles']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    });\n  }\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function AddImagesComponent_Factory(t) {\n    return new (t || AddImagesComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.VehicleService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddImagesComponent,\n    selectors: [[\"app-add-images\"]],\n    decls: 8,\n    vars: 0,\n    consts: [[1, \"block\", \"max-w-xl\", \"rounded-lg\", \"bg-white\", \"p-6\", \"m-6\", \"m\"], [\"enctype\", \"multipart/form-data\", 3, \"ngSubmit\"], [\"data-te-input-wrapper-init\", \"\", 1, \"relative\", \"mb-12\"], [\"type\", \"file\", \"id\", \"formFileMultiple\", \"multiple\", \"\", 1, \"relative\", \"m-0\", \"block\", \"w-full\", \"min-w-0\", \"flex-auto\", \"rounded\", \"border\", \"border-solid\", \"border-neutral-300\", \"bg-clip-padding\", \"px-3\", \"py-[0.32rem]\", \"text-base\", \"font-normal\", \"text-neutral-700\", \"transition\", \"duration-300\", \"ease-in-out\", \"file:-mx-3\", \"file:-my-[0.32rem]\", \"file:overflow-hidden\", \"file:rounded-none\", \"file:border-0\", \"file:border-solid\", \"file:border-inherit\", \"file:bg-neutral-100\", \"file:px-3\", \"file:py-[0.32rem]\", \"file:text-neutral-700\", \"file:transition\", \"file:duration-150\", \"file:ease-in-out\", \"file:[border-inline-end-width:1px]\", \"file:[margin-inline-end:0.75rem]\", \"hover:file:bg-neutral-200\", \"focus:border-primary\", \"focus:text-neutral-700\", \"focus:shadow-te-primary\", \"focus:outline-none\", \"dark:border-neutral-600\", \"dark:text-neutral-200\", \"dark:file:bg-neutral-700\", \"dark:file:text-neutral-100\", \"dark:focus:border-primary\"], [\"type\", \"submit\", \"data-te-ripple-init\", \"\", \"data-te-ripple-color\", \"light\", 1, \"bg-cyan-300\", \"text-gray-800\", \"font-bold\", \"text-lg\", \"hover:bg-gray-700\", \"p-2\", \"mt-2\", \"rounded\", \"inline-block\", \"rounded\", \"px-6\", \"pb-2\", \"pt-2.5\", \"uppercase\", \"leading-normal\", \"text-white\"]],\n    template: function AddImagesComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h4\");\n        i0.ɵɵtext(2, \"Add vehicle Images\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function AddImagesComponent_Template_form_ngSubmit_3_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelement(5, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"button\", 4);\n        i0.ɵɵtext(7, \" Submit \");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    dependencies: [i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.NgForm],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["AddImagesComponent","constructor","_router","_vehicleService","error","errorMessage","selectedFiles","onFileSelected","event","target","files","onSubmit","formData","FormData","i","length","append","_imageSubscription","saveVehiclePhoto","subscribe","result","console","log","imageResult","status","navigate","ngOnDestroy","unsubscribe","_","i0","ɵɵdirectiveInject","i1","Router","i2","VehicleService","_2","selectors","decls","vars","consts","template","AddImagesComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AddImagesComponent_Template_form_ngSubmit_3_listener","ɵɵelement"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-images\\add-images.component.ts","C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-images\\add-images.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-images',\n  templateUrl: './add-images.component.html',\n  styleUrls: ['./add-images.component.css']\n})\nexport class AddImagesComponent {\n\n  error: boolean = false;\n  errorMessage: string = \"\";\n  imageResult: any;\n  selectedFiles: File[] = [];\n  private _imageSubscription!: Subscription;\n\n  constructor(private _router: Router, private _vehicleService: VehicleService) {}\n\n  onFileSelected(event: any) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe((result: any) => {\n      console.log(result)\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehicles']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    })\n  }\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n}\n","<div\n  class=\"block max-w-xl rounded-lg bg-white p-6 m-6 m\">\n  <h4>Add vehicle Images</h4>\n  <form  (ngSubmit)=\"onSubmit()\" enctype=\"multipart/form-data\">\n    \n    <div class=\"relative mb-12\" data-te-input-wrapper-init>\n      \n      \n      <input\n    class=\"relative m-0 block w-full min-w-0 flex-auto rounded border border-solid border-neutral-300 bg-clip-padding px-3 py-[0.32rem] text-base font-normal text-neutral-700 transition duration-300 ease-in-out file:-mx-3 file:-my-[0.32rem] file:overflow-hidden file:rounded-none file:border-0 file:border-solid file:border-inherit file:bg-neutral-100 file:px-3 file:py-[0.32rem] file:text-neutral-700 file:transition file:duration-150 file:ease-in-out file:[border-inline-end-width:1px] file:[margin-inline-end:0.75rem] hover:file:bg-neutral-200 focus:border-primary focus:text-neutral-700 focus:shadow-te-primary focus:outline-none dark:border-neutral-600 dark:text-neutral-200 dark:file:bg-neutral-700 dark:file:text-neutral-100 dark:focus:border-primary\"\n    type=\"file\"\n    id=\"formFileMultiple\"\n    multiple />\n    </div>\n    <!--Submit button-->\n    <button\n      type=\"submit\"\n      class=\"bg-cyan-300  text-gray-800 font-bold text-lg hover:bg-gray-700 p-2 mt-2 rounded inline-block rounded  px-6 pb-2 pt-2.5  uppercase leading-normal text-white \"\n      data-te-ripple-init\n      data-te-ripple-color=\"light\">\n      Submit\n    </button>\n  </form>\n"],"mappings":";;;;AAUA,OAAM,MAAOA,kBAAkB;EAQ7BC,YAAoBC,OAAe,EAAUC,eAA+B;IAAxD,KAAAD,OAAO,GAAPA,OAAO;IAAkB,KAAAC,eAAe,GAAfA,eAAe;IAN5D,KAAAC,KAAK,GAAY,KAAK;IACtB,KAAAC,YAAY,GAAW,EAAE;IAEzB,KAAAC,aAAa,GAAW,EAAE;EAGqD;EAE/EC,cAAcA,CAACC,KAAU;IACvB,IAAI,CAACF,aAAa,GAAGE,KAAK,CAACC,MAAM,CAACC,KAAK;EACzC;EACAC,QAAQA,CAAA;IACN,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACR,aAAa,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MAClDF,QAAQ,CAACI,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,aAAa,CAACQ,CAAC,CAAC,CAAC;;IAEjD,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACd,eAAe,CAACe,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAEC,MAAW,IAAI;MAClGC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAI,CAACG,WAAW,GAAGH,MAAM;MACzB,IAAI,IAAI,CAACG,WAAW,CAACC,MAAM,IAAI,SAAS,EAAE;QACxC,IAAI,CAACtB,OAAO,CAACuB,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;OACzC,MAAM;QACL,IAAI,CAACrB,KAAK,GAAG,IAAI;QACjB,IAAI,CAACC,YAAY,GAAG,sBAAsB;;IAE9C,CAAC,CAAC;EACJ;EACAqB,WAAWA,CAAA;IACT;IACA;IACA,IAAI,IAAI,CAACT,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACU,WAAW,EAAE;;EAEzC;EAAC,QAAAC,CAAA,G;qBAnCU5B,kBAAkB,EAAA6B,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,MAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,cAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAlBnC,kBAAkB;IAAAoC,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCV/Bb,EAAA,CAAAe,cAAA,aACuD;QACjDf,EAAA,CAAAgB,MAAA,yBAAkB;QAAAhB,EAAA,CAAAiB,YAAA,EAAK;QAC3BjB,EAAA,CAAAe,cAAA,cAA6D;QAAtDf,EAAA,CAAAkB,UAAA,sBAAAC,qDAAA;UAAA,OAAYL,GAAA,CAAAhC,QAAA,EAAU;QAAA,EAAC;QAE5BkB,EAAA,CAAAe,cAAA,aAAuD;QAGrDf,EAAA,CAAAoB,SAAA,eAIS;QACXpB,EAAA,CAAAiB,YAAA,EAAM;QAENjB,EAAA,CAAAe,cAAA,gBAI+B;QAC7Bf,EAAA,CAAAgB,MAAA,eACF;QAAAhB,EAAA,CAAAiB,YAAA,EAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}