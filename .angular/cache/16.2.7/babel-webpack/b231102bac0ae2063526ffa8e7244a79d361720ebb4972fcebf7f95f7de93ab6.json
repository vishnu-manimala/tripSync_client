{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let AddImagesComponent = class AddImagesComponent {\n  constructor(_router, _vehicleService) {\n    this._router = _router;\n    this._vehicleService = _vehicleService;\n    this.error = false;\n    this.errorMessage = \"\";\n    this.selectedFiles = [];\n  }\n  onFileSelected(event) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe(result => {\n      console.log(result);\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehicles']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    });\n  }\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n};\nAddImagesComponent = __decorate([Component({\n  selector: 'app-add-images',\n  templateUrl: './add-images.component.html',\n  styleUrls: ['./add-images.component.css']\n})], AddImagesComponent);","map":{"version":3,"names":["Component","AddImagesComponent","constructor","_router","_vehicleService","error","errorMessage","selectedFiles","onFileSelected","event","target","files","onSubmit","formData","FormData","i","length","append","_imageSubscription","saveVehiclePhoto","subscribe","result","console","log","imageResult","status","navigate","ngOnDestroy","unsubscribe","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-images\\add-images.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-images',\n  templateUrl: './add-images.component.html',\n  styleUrls: ['./add-images.component.css']\n})\nexport class AddImagesComponent {\n\n  error: boolean = false;\n  errorMessage: string = \"\";\n  imageResult: any;\n  selectedFiles: File[] = [];\n  private _imageSubscription!: Subscription;\n\n  constructor(private _router: Router, private _vehicleService: VehicleService) {}\n\n  onFileSelected(event: any) {\n    this.selectedFiles = event.target.files;\n  }\n  onSubmit() {\n    const formData = new FormData();\n    for (let i = 0; i < this.selectedFiles.length; i++) {\n      formData.append('files', this.selectedFiles[i]);\n    }\n    this._imageSubscription = this._vehicleService.saveVehiclePhoto(formData).subscribe((result: any) => {\n      console.log(result)\n      this.imageResult = result;\n      if (this.imageResult.status == \"Success\") {\n        this._router.navigate(['user/vehicles']);\n      } else {\n        this.error = true;\n        this.errorMessage = \"Something went wrong\";\n      }\n    })\n  }\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._imageSubscription) {\n      this._imageSubscription.unsubscribe();\n    }\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,WAAMC,kBAAkB,GAAxB,MAAMA,kBAAkB;EAQ7BC,YAAoBC,OAAe,EAAUC,eAA+B;IAAxD,KAAAD,OAAO,GAAPA,OAAO;IAAkB,KAAAC,eAAe,GAAfA,eAAe;IAN5D,KAAAC,KAAK,GAAY,KAAK;IACtB,KAAAC,YAAY,GAAW,EAAE;IAEzB,KAAAC,aAAa,GAAW,EAAE;EAGqD;EAE/EC,cAAcA,CAACC,KAAU;IACvB,IAAI,CAACF,aAAa,GAAGE,KAAK,CAACC,MAAM,CAACC,KAAK;EACzC;EACAC,QAAQA,CAAA;IACN,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACR,aAAa,CAACS,MAAM,EAAED,CAAC,EAAE,EAAE;MAClDF,QAAQ,CAACI,MAAM,CAAC,OAAO,EAAE,IAAI,CAACV,aAAa,CAACQ,CAAC,CAAC,CAAC;;IAEjD,IAAI,CAACG,kBAAkB,GAAG,IAAI,CAACd,eAAe,CAACe,gBAAgB,CAACN,QAAQ,CAAC,CAACO,SAAS,CAAEC,MAAW,IAAI;MAClGC,OAAO,CAACC,GAAG,CAACF,MAAM,CAAC;MACnB,IAAI,CAACG,WAAW,GAAGH,MAAM;MACzB,IAAI,IAAI,CAACG,WAAW,CAACC,MAAM,IAAI,SAAS,EAAE;QACxC,IAAI,CAACtB,OAAO,CAACuB,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;OACzC,MAAM;QACL,IAAI,CAACrB,KAAK,GAAG,IAAI;QACjB,IAAI,CAACC,YAAY,GAAG,sBAAsB;;IAE9C,CAAC,CAAC;EACJ;EACAqB,WAAWA,CAAA;IACT;IACA;IACA,IAAI,IAAI,CAACT,kBAAkB,EAAE;MAC3B,IAAI,CAACA,kBAAkB,CAACU,WAAW,EAAE;;EAEzC;CACD;AApCY3B,kBAAkB,GAAA4B,UAAA,EAL9B7B,SAAS,CAAC;EACT8B,QAAQ,EAAE,gBAAgB;EAC1BC,WAAW,EAAE,6BAA6B;EAC1CC,SAAS,EAAE,CAAC,4BAA4B;CACzC,CAAC,C,EACW/B,kBAAkB,CAoC9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}