{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/services/vehicle.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction AddInsuranceComponent_span_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*THis field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddInsuranceComponent_span_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*THis field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddInsuranceComponent_span_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 11);\n    i0.ɵɵtext(1, \"*THis field is required\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddInsuranceComponent {\n  constructor(_form, _vehicleService, _router) {\n    this._form = _form;\n    this._vehicleService = _vehicleService;\n    this._router = _router;\n    this.error = false;\n    this.errorMessage = \"\";\n    this.insuranceData = this._form.group({\n      insuranceCompany: this._form.control(\"\", Validators.required),\n      policyNumber: this._form.control(\"\", Validators.required),\n      expiryDate: this._form.control(\"\", Validators.required)\n    });\n  }\n  submitInsuranceData() {\n    console.log(this.insuranceData.value);\n    if (this.insuranceData.valid) {\n      this._insuranceSubscription = this._vehicleService.saveInsuranceData(this.insuranceData.value).subscribe(result => {\n        console.log(result);\n        if (result.status == \"Success\") {\n          this._router.navigate([['add.vehicle.photos']]);\n        } else {\n          this.error = true;\n          this.errorMessage = result.message;\n        }\n      });\n    }\n  }\n  ngOnDestroy() {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._insuranceSubscription) {\n      this._insuranceSubscription.unsubscribe();\n    }\n  }\n  static #_ = this.ɵfac = function AddInsuranceComponent_Factory(t) {\n    return new (t || AddInsuranceComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.VehicleService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddInsuranceComponent,\n    selectors: [[\"app-add-insurance\"]],\n    decls: 18,\n    vars: 4,\n    consts: [[1, \"flex\", \"flex-col\", \"justify-center\", \"md:justify-start\", \"my-auto\", \"mt-3\", \"md:pt-0\", \"px-8\", \"md:px-24\", \"lg:px-32\", \"w-11/12\", \"sm:w-full\", \"md:w-2/3\", \"text-cyan-300\"], [1, \"text-center\", \"text-3xl\"], [1, \"flex\", \"flex-col\", \"md:pt-8\", 3, \"formGroup\", \"submit\"], [1, \"flex\", \"flex-col\", \"pt-1\"], [\"id\", \"color\", \"formControlName\", \"insuranceCompany\", \"placeholder\", \"Insurance Company\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [\"class\", \"text-danger text-center ps-2 pt-2 col-12\", 4, \"ngIf\"], [\"id\", \"color\", \"formControlName\", \"policyNumber\", \"placeholder\", \"Policy number\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [1, \"p-1\", \"text-black\"], [\"id\", \"color\", \"formControlName\", \"expiryDate\", \"type\", \"date\", 1, \"shadow\", \"appearance-none\", \"border\", \"rounded\", \"w-full\", \"py-2\", \"px-3\", \"text-gray-700\", \"mt-1\", \"leading-tight\", \"focus:outline-none\", \"focus:shadow-outline\"], [\"type\", \"submit\", \"value\", \"Submit\", 1, \"bg-cyan-300\", \"w-1/4\", \"text-gray-800\", \"font-bold\", \"text-lg\", \"hover:bg-gray-700\", \"p-2\", \"mt-2\", \"rounded\"], [1, \"text-center\", \"text-red-950\"], [1, \"text-danger\", \"text-center\", \"ps-2\", \"pt-2\", \"col-12\"]],\n    template: function AddInsuranceComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"p\", 1);\n        i0.ɵɵtext(2, \"Vehicle Details.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵlistener(\"submit\", function AddInsuranceComponent_Template_form_submit_3_listener() {\n          return ctx.submitInsuranceData();\n        });\n        i0.ɵɵelementStart(4, \"div\", 3);\n        i0.ɵɵelement(5, \"input\", 4);\n        i0.ɵɵtemplate(6, AddInsuranceComponent_span_6_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵelement(8, \"input\", 6);\n        i0.ɵɵtemplate(9, AddInsuranceComponent_span_9_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 3)(11, \"span\", 7);\n        i0.ɵɵtext(12, \"Expiry Date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"input\", 8);\n        i0.ɵɵtemplate(14, AddInsuranceComponent_span_14_Template, 2, 0, \"span\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 9);\n        i0.ɵɵelementStart(16, \"span\", 10);\n        i0.ɵɵtext(17, \"Something went wrong!!\");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.insuranceData);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.insuranceData.hasError(\"required\", \"insuranceCompany\") && ctx.insuranceData.controls[\"insuranceCompany\"].dirty);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", ctx.insuranceData.hasError(\"required\", \"policyNumber\") && ctx.insuranceData.controls[\"policyNumber\"].dirty);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.insuranceData.hasError(\"required\", \"expiryDate\") && ctx.insuranceData.controls[\"expiryDate\"].dirty);\n      }\n    },\n    dependencies: [i4.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","AddInsuranceComponent","constructor","_form","_vehicleService","_router","error","errorMessage","insuranceData","group","insuranceCompany","control","required","policyNumber","expiryDate","submitInsuranceData","console","log","value","valid","_insuranceSubscription","saveInsuranceData","subscribe","result","status","navigate","message","ngOnDestroy","unsubscribe","_","ɵɵdirectiveInject","i1","FormBuilder","i2","VehicleService","i3","Router","_2","selectors","decls","vars","consts","template","AddInsuranceComponent_Template","rf","ctx","ɵɵlistener","AddInsuranceComponent_Template_form_submit_3_listener","ɵɵelement","ɵɵtemplate","AddInsuranceComponent_span_6_Template","AddInsuranceComponent_span_9_Template","AddInsuranceComponent_span_14_Template","ɵɵadvance","ɵɵproperty","hasError","controls","dirty"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-insurance\\add-insurance.component.ts","C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-insurance\\add-insurance.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Vehicleresponse } from 'src/app/models/vehicle_response.model';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-insurance',\n  templateUrl: './add-insurance.component.html',\n  styleUrls: ['./add-insurance.component.css']\n})\nexport class AddInsuranceComponent {\n  insuranceData:FormGroup;\n  error:boolean = false;\n  errorMessage:string = \"\";\n  private ._insuranceSubscription\n\n  constructor(private _form:FormBuilder, private _vehicleService:VehicleService, private _router:Router){\n    this.insuranceData = this._form.group({\n      insuranceCompany:this._form.control(\"\",Validators.required),\n      policyNumber:this._form.control(\"\",Validators.required),\n      expiryDate:this._form.control(\"\",Validators.required)\n    })\n  }\n \n  submitInsuranceData(){\n    console.log(this.insuranceData.value);\n    if(this.insuranceData.valid){\n      this._insuranceSubscription = this._vehicleService.saveInsuranceData(this.insuranceData.value).subscribe((result: Vehicleresponse)=>{\n        console.log(result);\n        if(result.status == \"Success\"){\n          this._router.navigate([['add.vehicle.photos']]);\n        }\n        else{\n          this.error = true;\n          this.errorMessage = result.message;\n        }\n      })\n    }\n  }\n\n  ngOnDestroy(): void {\n    //Called once, before the instance is destroyed.\n    //Add 'implements OnDestroy' to the class.\n    if (this._insuranceSubscription) {\n      this._insuranceSubscription.unsubscribe();\n    }\n  }\n}\n","\n<div\n  class=\"flex flex-col justify-center md:justify-start my-auto mt-3 md:pt-0 px-8 md:px-24 lg:px-32 w-11/12 sm:w-full md:w-2/3 text-cyan-300\">\n  <p class=\"text-center text-3xl\">Vehicle Details.</p>\n\n  <form class=\"flex flex-col  md:pt-8\" [formGroup]=\"insuranceData\" (submit)=\"submitInsuranceData()\">\n    <div class=\"flex flex-col pt-1\">\n     \n      <input id=\"color\" formControlName=\"insuranceCompany\" placeholder=\"Insurance Company\"\n        class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n      <span *ngIf=\"insuranceData.hasError('required','insuranceCompany')&& insuranceData.controls['insuranceCompany'].dirty\"\n        class=\"text-danger text-center ps-2 pt-2 col-12\">*THis field is required</span>\n    </div>\n    <div class=\"flex flex-col pt-1\">\n     \n        <input id=\"color\" formControlName=\"policyNumber\" placeholder=\"Policy number\"\n          class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n        <span *ngIf=\"insuranceData.hasError('required','policyNumber')&& insuranceData.controls['policyNumber'].dirty\"\n          class=\"text-danger text-center ps-2 pt-2 col-12\">*THis field is required</span>\n    </div>\n    <div class=\"flex flex-col pt-1\">\n        <span class=\"p-1 text-black\">Expiry Date</span>\n      <input id=\"color\" formControlName=\"expiryDate\" type=\"date\"\n        class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mt-1 leading-tight focus:outline-none focus:shadow-outline\">\n      <span *ngIf=\"insuranceData.hasError('required','expiryDate')&& insuranceData.controls['expiryDate'].dirty\"\n        class=\"text-danger text-center ps-2 pt-2 col-12\">*THis field is required</span>\n    </div>\n    \n    <input type=\"submit\" value=\"Submit\"\n      class=\"bg-cyan-300 w-1/4 text-gray-800 font-bold text-lg hover:bg-gray-700 p-2 mt-2 rounded\" />\n    <span class=\"text-center text-red-950\">Something went wrong!!</span>\n  </form>\n\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}