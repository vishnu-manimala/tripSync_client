{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nexport let AddVehicleComponent = class AddVehicleComponent {\n  constructor() {\n    this.error = false;\n  }\n};\nAddVehicleComponent = __decorate([Component({\n  selector: 'app-add-vehicle',\n  templateUrl: './add-vehicle.component.html',\n  styleUrls: ['./add-vehicle.component.css']\n})], AddVehicleComponent);\n{\n  this.vehicleData = this._form.group({\n    type: this._form.control(\"\", Validators.required),\n    brand: this._form.control(\"\", Validators.required),\n    model: this._form.control(\"\", Validators.required),\n    year: this._form.control(\"\", Validators.required),\n    color: this._form.control(\"\", Validators.required)\n  });\n}\nonTypeValue();\n{\n  console.log(this.vehicleData.value.type);\n  this._vehicleService.getCarBrands(this.vehicleData.value.type).subscribe(result => {\n    this.brands = result;\n    console.log(\"types\", this.brands.Results);\n    this.brands.Results.forEach(element => {\n      console.log(\"carss\", element.MakeName);\n    });\n  });\n}\nsubmitVehicleData();\n{\n  console.log(this.vehicleData.value);\n  if (this.vehicleData.valid) {\n    this._vehicleService.saveVehicleData(this.vehicleData.value).subscribe(result => {\n      this.returnData = result;\n      console.log(this.returnData);\n      if (this.returnData.status === \"Success\") {\n        this._jwt.setToken(this.returnData.token);\n        console.log(\"in succes\");\n        this._router.navigate(['add.vehicle.registartion']);\n      } else {\n        this.error = true;\n        this.errorMessage = this.returnData.message;\n      }\n    });\n  } else {\n    this.error = true;\n    this.errorMessage = \"Form is not valid!\";\n  }\n}","map":{"version":3,"names":["Component","Validators","AddVehicleComponent","constructor","error","__decorate","selector","templateUrl","styleUrls","vehicleData","_form","group","type","control","required","brand","model","year","color","onTypeValue","console","log","value","_vehicleService","getCarBrands","subscribe","result","brands","Results","forEach","element","MakeName","submitVehicleData","valid","saveVehicleData","returnData","status","_jwt","setToken","token","_router","navigate","errorMessage","message"],"sources":["C:\\Users\\asus\\Desktop\\Share N Go\\client\\src\\app\\views\\user\\vehicles\\add-vehicle\\add-vehicle.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { JwtService } from 'src/app/services/jwt.service';\nimport { VehicleService } from 'src/app/services/vehicle.service';\n\n@Component({\n  selector: 'app-add-vehicle',\n  templateUrl: './add-vehicle.component.html',\n  styleUrls: ['./add-vehicle.component.css']\n})\nexport class AddVehicleComponent {\n  vehicleData:FormGroup;\n  brands:any;\n  returnData:any;\n  error:boolean=false;\n  errorMessage:\n  constructor(private _form:FormBuilder, private _vehicleService:VehicleService, private _jwt:JwtService, private _router:Router){\n    \n    this.vehicleData = this._form.group({\n      type: this._form.control(\"\", Validators.required),\n      brand: this._form.control(\"\", Validators.required),\n      model: this._form.control(\"\", Validators.required),\n      year: this._form.control(\"\", Validators.required),\n      color: this._form.control(\"\", Validators.required)\n    })\n  }\n  onTypeValue(){\n    console.log(this.vehicleData.value.type);\n    this._vehicleService.getCarBrands(this.vehicleData.value.type).subscribe(result=>{\n      this.brands = result\n      console.log(\"types\",this.brands.Results);\n      this.brands.Results.forEach((element:any) => {\n        console.log(\"carss\",element.MakeName)\n      });\n    })\n  }\n\n  submitVehicleData(){\n    console.log(this.vehicleData.value);\n  if (this.vehicleData.valid) {\n    this._vehicleService.saveVehicleData(this.vehicleData.value).subscribe(result => {\n      this.returnData = result;\n      console.log(this.returnData);\n      if (this.returnData.status === \"Success\") {\n        this._jwt.setToken(this.returnData.token);console.log(\"in succes\")\n        this._router.navigate(['add.vehicle.registartion'])\n      } else {\n        this.error = true;\n        this.errorMessage = this.returnData.message;\n      }\n    })\n  }else{\n    this.error = true;\n    this.errorMessage = \"Form is not valid!\";\n  }\n}\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAiCC,UAAU,QAAQ,gBAAgB;AAU5D,WAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAAzBC,YAAA;IAIL,KAAAC,KAAK,GAAS,KAAK;EAE4G;CAAA;AANpHF,mBAAmB,GAAAG,UAAA,EAL/BL,SAAS,CAAC;EACTM,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,C,EACWN,mBAAmB,CAMiG;AAAA;EAE7H,IAAI,CAACO,WAAW,GAAG,IAAI,CAACC,KAAK,CAACC,KAAK,CAAC;IAClCC,IAAI,EAAE,IAAI,CAACF,KAAK,CAACG,OAAO,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ,CAAC;IACjDC,KAAK,EAAE,IAAI,CAACL,KAAK,CAACG,OAAO,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ,CAAC;IAClDE,KAAK,EAAE,IAAI,CAACN,KAAK,CAACG,OAAO,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ,CAAC;IAClDG,IAAI,EAAE,IAAI,CAACP,KAAK,CAACG,OAAO,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ,CAAC;IACjDI,KAAK,EAAE,IAAI,CAACR,KAAK,CAACG,OAAO,CAAC,EAAE,EAAEZ,UAAU,CAACa,QAAQ;GAClD,CAAC;;AAEJK,WAAW,EAAE;AAAA;EACXC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,WAAW,CAACa,KAAK,CAACV,IAAI,CAAC;EACxC,IAAI,CAACW,eAAe,CAACC,YAAY,CAAC,IAAI,CAACf,WAAW,CAACa,KAAK,CAACV,IAAI,CAAC,CAACa,SAAS,CAACC,MAAM,IAAE;IAC/E,IAAI,CAACC,MAAM,GAAGD,MAAM;IACpBN,OAAO,CAACC,GAAG,CAAC,OAAO,EAAC,IAAI,CAACM,MAAM,CAACC,OAAO,CAAC;IACxC,IAAI,CAACD,MAAM,CAACC,OAAO,CAACC,OAAO,CAAEC,OAAW,IAAI;MAC1CV,OAAO,CAACC,GAAG,CAAC,OAAO,EAACS,OAAO,CAACC,QAAQ,CAAC;IACvC,CAAC,CAAC;EACJ,CAAC,CAAC;;AAGJC,iBAAiB,EAAE;AAAA;EACjBZ,OAAO,CAACC,GAAG,CAAC,IAAI,CAACZ,WAAW,CAACa,KAAK,CAAC;EACrC,IAAI,IAAI,CAACb,WAAW,CAACwB,KAAK,EAAE;IAC1B,IAAI,CAACV,eAAe,CAACW,eAAe,CAAC,IAAI,CAACzB,WAAW,CAACa,KAAK,CAAC,CAACG,SAAS,CAACC,MAAM,IAAG;MAC9E,IAAI,CAACS,UAAU,GAAGT,MAAM;MACxBN,OAAO,CAACC,GAAG,CAAC,IAAI,CAACc,UAAU,CAAC;MAC5B,IAAI,IAAI,CAACA,UAAU,CAACC,MAAM,KAAK,SAAS,EAAE;QACxC,IAAI,CAACC,IAAI,CAACC,QAAQ,CAAC,IAAI,CAACH,UAAU,CAACI,KAAK,CAAC;QAACnB,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;QAClE,IAAI,CAACmB,OAAO,CAACC,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC;OACpD,MAAM;QACL,IAAI,CAACrC,KAAK,GAAG,IAAI;QACjB,IAAI,CAACsC,YAAY,GAAG,IAAI,CAACP,UAAU,CAACQ,OAAO;;IAE/C,CAAC,CAAC;GACH,MAAI;IACH,IAAI,CAACvC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACsC,YAAY,GAAG,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}